<html><head><title>openc2e CAOS documentation</title><link rel=stylesheet href="caosdocs.css"></head><body><h1>agent</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ABBA </span>(integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ANIM </span>(command) poselist (byte-string)</td></tr><tr><td class="description">
<p>set the animation string for TARG, in the format '1 2 3 4'</p>
<p>if it ends with '255', loop back to beginning; if it ends with '255 X', loop back to frame X</p>
<p><i>todo: compound agent stuff</i></p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ATTR </span>(command) attr (integer)</td></tr><tr><td class="description">
<p>set attributes of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ATTR </span>(integer)</td></tr><tr><td class="description">
<p>return attributes of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">BASE </span>(command) index (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">BASE </span>(integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">BHVR </span>(command) bhvr (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">BHVR </span>(integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">CARR </span>(agent)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">FMLY </span>(integer)</td></tr><tr><td class="description">
<p>return family of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">FROM </span>(agent)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">GNUS </span>(integer)</td></tr><tr><td class="description">
<p>return genus of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">KILL </span>(command) agent (agent)</td></tr><tr><td class="description">
<p>destroy the agent in question. you can't destroy PNTR.</p>
<p>remember, use DEAD first for creatures!</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MESG WRIT </span>(command) agent (agent) message_id (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MESG WRT+ </span>(command) agent (agent) message_id (integer) param_1 (anything) param_2 (anything) delay (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NEW: COMP </span>(command) family (integer) genus (integer) species (integer) sprite_file (string) image_count (integer) first_image (integer) plane (integer)</td></tr><tr><td class="description">
<p>create a new composite agent with given family/genus/species, given spritefile with image_count sprites</p>
<p>available starting at first_image in the spritefile, with the first part at the screen depth given by plane</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NEW: SIMP </span>(command) family (integer) genus (integer) species (integer) sprite_file (string) image_count (integer) first_image (integer) plane (integer)</td></tr><tr><td class="description">
<p>create a new simple agent with given family/genus/species, given spritefile with image_count sprites</p>
<p>available starting at first_image in the spritefile, at the screen depth given by plane</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NEW: VHCL </span>(command) family (integer) genus (integer) species (integer) sprite_file (string) image_count (integer) first_image (integer) plane (integer)</td></tr><tr><td class="description">
<p>create a new vehicle agent with given family/genus/species, given spritefile with image_count sprites</p>
<p>available starting at first_image in the spritefile, with the first part at the screen depth given by plane</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NEXT </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NULL </span>(agent)</td></tr><tr><td class="description">
<p>return null (zero) agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">OWNR </span>(agent)</td></tr><tr><td class="description">
<p>return OWNR</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PLNE </span>(integer)</td></tr><tr><td class="description">
<p>return plane (z-order) of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PNTR </span>(agent)</td></tr><tr><td class="description">
<p>return the pointer agent (the hand)</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">POSE </span>(command) pose (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">POSE </span>(integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RTAR </span>(command) family (integer) genus (integer) species (integer)</td></tr><tr><td class="description">
<p>set targ to random agent with given family/genus/species</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SCRX </span>(command) event (integer) species (integer) genus (integer) family (integer)</td></tr><tr><td class="description">
<p>delete the event script in question</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SPCS </span>(integer)</td></tr><tr><td class="description">
<p>return species of TARG agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TARG </span>(agent)</td></tr><tr><td class="description">
<p>return TARG</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TARG </span>(command) agent (agent)</td></tr><tr><td class="description">
<p>set TARG to given agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TICK </span>(command) tickrate (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>camera</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">CMRT </span>(command) pan (integer)</td></tr><tr><td class="description">
<p>centre current camera on TARG.</p>
<p>pan: 0 for none (jump), 1 for smooth scroll if in same metaroom, 2 for smooth scroll if visible</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">META </span>(command) metaroom_id (integer) camera_x (integer) camera_y (integer) transition (integer)</td></tr><tr><td class="description">
<p>set metaroom current camera is pointing at. coordinates point to top left of new</p>
<p>camera position.</p>
<p>transition: 0 for none, 1 for flip horz, 2 for burst</p>
</td></tr></table><br>
<h1>compound</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PART </span>(command) part_id (integer)</td></tr><tr><td class="description">
<p>set the part number of the TARGed compound agent/vehicle to work on (ANIM/POSE use this, amongst other commands).</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PAT: BUTT </span>(command) part (integer) sprite (string) first_image (integer) image_count (integer) x (integer) y (integer) plane (integer) hoveranim (byte-string) messageid (integer) option (integer)</td></tr><tr><td class="description">
<p>creates a new 'button' part for the TARGed compound agent/vehicle</p>
<p>number part ids beginning at 1. x/y/plane are relative to the agent you're working on.</p>
<p>hoveranim is the animation to use when the part is mouseovered - see ANIM for details</p>
<p>messageid is the message sent when the button is clicked - _p1_ of the message is set to the part number</p>
<p>if option is 1, mouseclicks/hovers only apply to non-transparent areas. otherwise, option should be 0.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PAT: DULL </span>(command) part (integer) sprite (string) first_image (integer) x (integer) y (integer) plane (integer)</td></tr><tr><td class="description">
<p>create a new 'dull' part for the TARGed compound agent/vehicle which does nothing but display an image.</p>
<p>number part ids beginning at 1. x/y/plane are relative to the agent you're working on.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PAT: KILL </span>(command) part (integer)</td></tr><tr><td class="description">
<p>kill the specified part of the TARGed compound agent/vehicle</p>
</td></tr></table><br>
<h1>core</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ENDM </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">GAME </span>(variable) name (string)</td></tr><tr><td class="description">
<p>returns game variable with name given (unchecked)</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">OUTS </span>(command) val (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">OUTV </span>(command) val (decimal)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RSCR </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SCRP </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>creatures</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">STIM WRIT </span>(command) creature (agent) stimulus (integer) strength (float)</td></tr><tr><td class="description">
<p>send stimulus to specific creature</p>
</td></tr></table><br>
<h1>debug</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">DBG: OUTS </span>(command) val (string)</td></tr><tr><td class="description">
<p>output a string to the debug log</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">DBG: OUTV </span>(command) val (decimal)</td></tr><tr><td class="description">
<p>output a decimal value to the debug log</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST CHEK </span>(command) comparison (comparison)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>signal a test pass if comparison is true, or a fail otherwise</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST FAIL </span>(command)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>signal a single test fail</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST FINI </span>(command)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>signal a single test fail if there has been no TEST/FAIL since last TEST STRT</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST INIT </span>(command) notests (integer)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>initialise the testing system, there will be notests tests</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST PASS </span>(command)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>signal a single test pass</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">TEST STRT </span>(command)</td></tr><tr><td class="description">
<p>openc2e-only</p>
<p>start a single test, continuing until TEST PASS/FAIL/FINI</p>
</td></tr></table><br>
<h1>flow</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">DOIF </span>(command) condition (condition)</td></tr><tr><td class="description">
<p>Part of a DOIF/ELIF/ELSE/ENDI block. Jump to the next part of the block if condition is false, otherwise continue executing.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ELIF </span>(command) condition (condition)</td></tr><tr><td class="description">
<p>Part of a DOIF/ELIF/ELSE/ENDI block. If none of the previous DOIF/ELIF conditions have been true, and condition evaluates to true, then the code in the ELIF block is executed.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ELSE </span>(command)</td></tr><tr><td class="description">
<p>Part of a DOIF/ELIF/ELSE/ENDI block. If ELSE is present, it is jumped to when none of the previous DOIF/ELIF conditions are true.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ENDI </span>(command)</td></tr><tr><td class="description">
<p>The end of a DOIF/ELIF/ELSE/ENDI block.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">EVER </span>(command)</td></tr><tr><td class="description">
<p>Jump back to the matching LOOP, no matter what.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">GSUB </span>(command) label (label)</td></tr><tr><td class="description">
<p>Jump to a subroutine defined by SUBR with label 'label'.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">LOOP </span>(command)</td></tr><tr><td class="description">
<p>The start of a LOOP..EVER or LOOP..UNTL loop.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">REPE </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">REPS </span>(command) reps (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RETN </span>(command)</td></tr><tr><td class="description">
<p>Return from a subroutine called with GSUB.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SUBR </span>(command) label (label)</td></tr><tr><td class="description">
<p>Define the start of a subroute to be called with GSUB, with label 'label'.</p>
<p>If the command is encountered during execution, it acts like a STOP.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">UNTL </span>(command) condition (condition)</td></tr><tr><td class="description">
<p>Jump back to the matching LOOP unless the condition evaluates to true.</p>
</td></tr></table><br>
<h1>input</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">CLAC </span>(command) message (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>map</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ADDM </span>(integer) x (integer) y (integer) width (integer) height (integer) background (string)</td></tr><tr><td class="description">
<p>create metaroom. return id of created metaroom.</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ADDR </span>(integer) metaroomid (integer) x_left (integer) x_right (integer) y_left_ceiling (integer) y_right_ceiling (integer) y_left_floor (integer) y_right_floor (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">BRMI </span>(command) metaroom_base (integer) room_base (integer)</td></tr><tr><td class="description">
<p>set metaroom/room bases, i have no idea why/if we need this</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">DOOR </span>(command) room1 (integer) room2 (integer) perm (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MAPD </span>(command) width (integer) height (integer)</td></tr><tr><td class="description">
<p>set the map dimensions, inside which we place metarooms</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MAPK </span>(command)  </td></tr><tr><td class="description">
<p>reset the map (call map::reset)</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RATE </span>(command) roomtype (integer) caindex (integer) gain (float) loss (float) diffusion (float)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ROOM </span>(integer) agent (agent)</td></tr><tr><td class="description">
<p>returns the room the midpoint of the agent is inside</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RTYP </span>(command) roomid (integer) roomtype (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>motion</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ELAS </span>(command) elas (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MVTO </span>(command) x (integer) y (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>resources</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY AGTI </span>(integer) resource (string) tag (string) default (integer)</td></tr><tr><td class="description">
<p>using the specified resource, returns the integer value associated with the given tag,</p>
<p>or default if the tag doesn't exist</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY AGTS </span>(string) resource (string) tag (string) default (string)</td></tr><tr><td class="description">
<p>using the specified resource, returns the string value associated with the given tag,</p>
<p>or default if the tag doesn't exist</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY BACK </span>(string) type (string) last (string)</td></tr><tr><td class="description">
<p>returns the name of the resource of the specified type which is immediately previous to last</p>
<p>see PRAY PREV if you want to loop around</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY COUN </span>(integer) type (string)</td></tr><tr><td class="description">
<p>return the number of resources of the specified type available</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY DEPS </span>(integer) name (string) install (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY EXPO </span>(integer) type (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY FILE </span>(integer) name (integer) type (integer) install (integer)</td></tr><tr><td class="description">
<p>install a file with given resource name and type</p>
<p>if install is 0, the install doesn't actually happen, it's just tested</p>
<p>returns 0 on success, 1 on failure</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY FORE </span>(string) type (string) last (string)</td></tr><tr><td class="description">
<p>returns the name of the resource of the specified type which is immediately after last</p>
<p>see PRAY NEXT if you don't want to loop around</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY GARB </span>(command) force (integer)</td></tr><tr><td class="description">
<p>if force is 0, make the pray manager garbage-collect resources</p>
<p>otherwise, make the pray manager empty its cache entirely</p>
<p>recommended to be called after intensive PRAY usage, eg agent installation</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY IMPO </span>(integer) moniker (string) doit (integer) keepfile (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY INJT </span>(integer) name (string) install (integer) report (variable)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY KILL </span>(integer) resource (string)</td></tr><tr><td class="description">
<p>deletes from disk the file containing the given resource</p>
<p>returns 1 upon success, or 0 upon failure (typically no such resource)</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY MAKE </span>(integer) journalspot (integer) journalname (string) prayspot (integer) name (string) report (variable)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY NEXT </span>(string) type (string) last (string)</td></tr><tr><td class="description">
<p>returns the name of the resource of the specified type which is immediately after last</p>
<p>see PRAY FORE if you don't want to loop around</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY PREV </span>(string) type (string) last (string)</td></tr><tr><td class="description">
<p>returns the name of the resource of the specified type which is immediately previous to last</p>
<p>see PRAY BACK if you don't want to loop around</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY REFR </span>(command)</td></tr><tr><td class="description">
<p>make the pray manager check for deleted/new files in the resource directory</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PRAY TEST </span>(integer) name (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>scripts</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">INST </span>(command)</td></tr><tr><td class="description">
<p>don't release control to the scheduler until end of script or SLOW</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">LOCK </span>(command)</td></tr><tr><td class="description">
<p>prevent agent script from being interrupted by another</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SLOW </span>(command)</td></tr><tr><td class="description">
<p>reverts effects of INST</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">STOP </span>(command)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">UNLK </span>(command)</td></tr><tr><td class="description">
<p>reverts effects of LOCK</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">WAIT </span>(command) ticks (integer)</td></tr><tr><td class="description">
<p>stop the script from running for a number of ticks</p>
</td></tr></table><br>
<h1>sounds</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MMSC </span>(command) x (integer) y (integer) track_name (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MMSC </span>(string) x (integer) y (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RMSC </span>(command) x (integer) y (integer) track_name (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MMSC </span>(string) x (integer) y (integer)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SNDE </span>(command) filename (string)</td></tr><tr><td class="description">
<p><font color="#ff0000">undocumented</font></p></td></tr></table><br>
<h1>time</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">PACE </span>(float)</td></tr><tr><td class="description">
<p>return speed factor of last ten ticks. < 1.0 = engine is ticking slower than BUZZ rating.</p>
<p>> 1.0 = engine is ticking faster.</p>
</td></tr></table><br>
<h1>variables</h1>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">ADDV </span>(command) var (variable) add (integer)</td></tr><tr><td class="description">
<p>returns var + add</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">DIVV </span>(command) var (variable) div (decimal)</td></tr><tr><td class="description">
<p>returns var / mul</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MODV </span>(command) var (variable) mod (integer)</td></tr><tr><td class="description">
<p>returns var % mod</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">MULV </span>(command) var (variable) mul (decimal)</td></tr><tr><td class="description">
<p>returns var * mul</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">NEGV </span>(command) var (variable)</td></tr><tr><td class="description">
<p>returns a negated variable (eg 1 to -1, -3 to 3)</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">OVxx </span>(variable)</td></tr><tr><td class="description">
<p>agent-local variables from TARG, 00 to 99</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">RAND </span>(integer) value1 (integer) value2 (integer)</td></tr><tr><td class="description">
<p>return a random integer between value1 and value2 inclusive</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">REAF </span>(command)</td></tr><tr><td class="description">
<p>reread catalogue files</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SETA </span>(command) var (variable) value (agent)</td></tr><tr><td class="description">
<p>sets given variable to given agent</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SETS </span>(command) var (variable) value (string)</td></tr><tr><td class="description">
<p>sets given variable to given string</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SETV </span>(command) var (variable) value (decimal)</td></tr><tr><td class="description">
<p>sets given variable to given number [int/float]</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">SUBV </span>(command) var (variable) sub (integer)</td></tr><tr><td class="description">
<p>returns var - sub</p>
</td></tr></table><br>
<table align=center border=1 cellpadding=3 cellspacing=0 width="99%"><tr><td class="command"><span class="command">VAxx </span>(variable)</td></tr><tr><td class="description">
<p>script-local variables, 00 to 99 (todo: is this right?)</p>
</td></tr></table><br>
</body></html>